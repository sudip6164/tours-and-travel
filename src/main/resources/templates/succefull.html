<!DOCTYPE html>
<html lang="zxx" class="no-js" xmlns:th="http://www.thymeleaf.org">
  <head>
    <!-- Mobile Specific Meta -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <!-- Favicon-->
    <link rel="shortcut icon" href="img/fav.png" />
    <!-- Meta Description -->
    <meta name="description" content="" />
    <!-- Meta Keyword -->
    <meta name="keywords" content="" />
    <!-- meta character set -->
    <meta charset="UTF-8" />
    <!-- Site Title -->
    <title>Payment Success - Travel & Tour</title>
    <!-- Bootstrap Icons -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.4.1/font/bootstrap-icons.min.css"
      rel="stylesheet"
    />

    <link
      href="https://fonts.googleapis.com/css?family=Poppins:100,200,400,300,500,600,700"
      rel="stylesheet"
    />
    <!--
			CSS
			============================================= -->
    <link rel="stylesheet" href="css/linearicons.css" />
    <link rel="stylesheet" href="css/font-awesome.min.css" />
    <link rel="stylesheet" href="css/bootstrap.css" />
    <link rel="stylesheet" href="css/magnific-popup.css" />
    <link rel="stylesheet" href="css/animate.min.css" />
    <link rel="stylesheet" href="css/owl.carousel.css" />
    <link rel="stylesheet" href="css/main.css" />
    <link rel="stylesheet" href="css/contact.css">

  </head>

  <body style="background-color: #f8f9fa;">
    <!-- start banner Area -->
    <section class="banner-area" id="home" style="min-height: auto; padding-bottom: 0;">
      <!-- Start Header Area -->
        <header class="default-header">
            <nav class="navbar navbar-expand-lg navbar-light">
                <div class="container">
                    <a class="navbar-brand" href="/">
                    <img src="/img/logo.png" alt="Rahul's Tour & Travel" style="height: 50px;">
                    </a>
                    <button
                        class="navbar-toggler"
                        type="button"
                        data-toggle="collapse"
                        data-target="#navbarSupportedContent"
                        aria-controls="navbarSupportedContent"
                        aria-expanded="false"
                        aria-label="Toggle navigation"
                    >
                    <span class="text-white lnr lnr-menu"></span>
                    </button>
                    <div class="collapse navbar-collapse justify-content-end align-items-center mt-4"id="navbarSupportedContent">   
                    <ul class="navbar-nav">
                        <li><a href="/">Home</a></li>
		                <li><a href="/about">About</a></li>
		                <li><a href="/recommend">Recommendation</a></li>
		                <li><a href="/contact">Contact</a></li>
		                <li><a href="/review">Review</a></li>
                        <li>
                            <a href="/booknow">
                                <button class="btn btn-primary" >
                                Book Now
                                </button>
                            </a>
                        </li>
                        
                        <!-- Dropdown -->
                	<li class="dropdown" th:if="${user != null}">
						<a class="dropdown-toggle" href="/user" id="navbardrop" >
							<button class="btn btn-primary rounded" th:text="${user.username}"></button>
							</a>
							<div class="dropdown-menu">
							  <a class="dropdown-item" href="/logout">Logout</a>
							</div>
					</li>
                    </ul>
			    </div>
		    </nav>
	    </header>
        <!-- End Header Area -->
    </section>

  <section class="contact pt-5 pb-5" style="background: linear-gradient(135deg, #f5f7fa 0%, #ffffff 100%); min-height: 75vh; padding-top: 80px !important; padding-bottom: 60px !important;">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8 col-md-10">
                    <div class="card shadow-lg border-0" style="border-radius: 20px; overflow: hidden;">
                        <div class="card-body text-center p-5" style="background: linear-gradient(135deg, #090d62 0%, #070a4d 100%); color: white; padding: 60px 40px !important;">
                            <div class="mb-4" style="animation: scaleIn 0.5s ease-out;">
                                <div style="width: 120px; height: 120px; background: white; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; box-shadow: 0 10px 30px rgba(0,0,0,0.3); margin: 0 auto;">
                                    <i class="fa fa-check-circle" style="font-size: 70px; color: #28a745;"></i>
                                </div>
                            </div>
                            <h2 class="mb-4" style="font-size: 2.5rem; font-weight: 600; color: white; margin-top: 20px;">Payment Successful!</h2>
                            <p class="mb-3" style="font-size: 1.15rem; color: rgba(255,255,255,0.95); line-height: 1.6;">Your tour booking payment has been processed successfully.</p>
                            <p class="mb-0" style="font-size: 1rem; color: rgba(255,255,255,0.85); line-height: 1.6;">Your booking confirmation has been sent to your email.</p>
                        </div>
                        <div class="card-body p-5" style="background: white; padding: 50px 40px !important;">
                            <div class="text-center mb-4">
                                <p class="mb-4" style="font-size: 1.1rem; color: #666; font-weight: 400;">Thank you for choosing <strong style="color: #090d62;">Rahul's Tour & Travel</strong>!</p>
                                <p class="text-muted mb-0" style="font-size: 0.95rem;">We look forward to providing you with an amazing travel experience.</p>
                            </div>
                            <div class="d-flex flex-column flex-md-row justify-content-center mt-4" style="gap: 15px;">
                                <a href="/" class="btn btn-lg success-page-btn" style="background-color: #090d62; color: white; border: none; padding: 12px 30px; border-radius: 50px; font-weight: 500; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(9, 13, 98, 0.3); text-decoration: none; display: inline-block;">
                                    <i class="fa fa-home mr-2"></i> Back to Home
                                </a>
                                <a href="/recommend" class="btn btn-lg success-page-btn-secondary" style="background-color: #f97426; color: white; border: none; padding: 12px 30px; border-radius: 50px; font-weight: 500; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(249, 116, 38, 0.3); text-decoration: none; display: inline-block;">
                                    <i class="fa fa-compass mr-2"></i> Explore More Tours
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <style>
        @keyframes scaleIn {
            from {
                transform: scale(0);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }
        
        .success-page-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(9, 13, 98, 0.4) !important;
            background-color: #070a4d !important;
        }
        
        .success-page-btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(249, 116, 38, 0.4) !important;
            background-color: #e8651f !important;
        }
        
        /* Hide search bar if it exists */
        .search-bar-container {
            display: none !important;
        }
        
        /* Ensure banner area doesn't take extra space */
        .banner-area {
            min-height: auto !important;
            padding-bottom: 0 !important;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .card-body[style*="padding: 60px"] {
                padding: 40px 25px !important;
            }
            .card-body[style*="padding: 50px"] {
                padding: 35px 25px !important;
            }
            h2[style*="font-size: 2.5rem"] {
                font-size: 2rem !important;
            }
            .success-page-btn, .success-page-btn-secondary {
                width: 100%;
                margin-bottom: 10px;
                display: block !important;
            }
            .d-flex[style*="gap: 15px"] {
                flex-direction: column !important;
                gap: 10px !important;
            }
        }
    </style>
     
  <!-- start footer Area -->
  <footer class="footer-area section-gap">
    <div class="container">
      <div class="row">
        <div class="col-lg-5 col-md-6 col-sm-6">
          <div class="single-footer-widget">
            <h6>About Us</h6>
            <div class="list-group list-group-flush">
              <div class="list-group-item text-white" >
                <p>At Rahul's Tour and Travel, we believe in creating unforgettable travel experiences that enrich your
                  life. </p>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-5 col-md-6 col-sm-6">
          <div class="single-footer-widget">
            <h6>Quick Link</h6>
            <div class="footer-social d-flex align-items-left">
              <div class="list-group list-group-flush">
                <div class="list-group-item">
                  <ul>
                    <li class="list-footer text-white">
                      <a aria-current="page" class="active text-white" href="/">Recommendation</a>
                    </li>
                    <li class="list-footer">
                      <a aria-current="page" class="active text-white" href="/">FAQ</a>
                    </li>
                    <li class="list-footer">
                      <a aria-current="page" class="active text-white" href="/">Contact</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-2 col-md-6 col-sm-6 social-widget">
          <div class="single-footer-widget">
            <h6>Follow Us</h6>
            <p>Let us be social</p>
            <div class="footer-social d-flex align-items-center">
              <a href="#"><i class="fa fa-facebook"></i></a>
              <a href="#"><i class="fa fa-twitter"></i></a>
              <a href="#"><i class="fa fa-instagram"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </footer>
  <!-- End footer Area -->

    <script src="js/vendor/jquery-2.2.4.min.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"
      integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
      crossorigin="anonymous"
    ></script>
    <script src="js/vendor/bootstrap.min.js"></script>
    <script src="js/jquery.ajaxchimp.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.sticky.js"></script>
    <script src="js/slick.js"></script>
    <script src="js/jquery.counterup.min.js"></script>
    <script src="js/waypoints.min.js"></script>
    <script src="js/main.js"></script>
    <script>
      // Send tourId from sessionStorage to backend when page loads
      document.addEventListener('DOMContentLoaded', function() {
        var pendingTourId = sessionStorage.getItem('pendingTourId');
        if (pendingTourId) {
          console.log('Found pendingTourId in sessionStorage:', pendingTourId);
          // Send tourId to backend via a hidden request
          fetch('/api/payment/confirm?tourId=' + pendingTourId, {
            method: 'GET',
            credentials: 'include'
          })
          .then(response => {
            if (response.ok) {
              console.log('TourId sent to backend successfully');
              // Clear sessionStorage after successful send
              sessionStorage.removeItem('pendingTourId');
            }
          })
          .catch(error => {
            console.error('Error sending tourId to backend:', error);
          });
        }
      });
    </script>
    

  </body>
</html>

